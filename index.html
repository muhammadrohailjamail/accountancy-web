<!doctype html>

<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- awesone fonts css-->
    <link href="css/font-awesome.css" rel="stylesheet" type="text/css">
    <!-- owl carousel css-->
    <link rel="stylesheet" href="owl-carousel/assets/owl.carousel.min.css" type="text/css">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- custom CSS -->
    <link rel="stylesheet" href="css/style.css">
    <title>Solution - Free Responsive Agency Template using Bootstrap 4</title>
    </style>
    <style>
        /* Optional: Adjust spacing between buttons on smaller screens */
        .calculator-btn {
          margin-bottom: 1rem;
        }
      </style>
     
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light bg-transparent" id="gtco-main-nav">
        <div class="container">
          <a class="navbar-brand" href="#">
            <img src="fiscora_logo1.png" alt="Fiscora Logo" height="100">
          </a>
          <button class="navbar-toggler" data-target="#my-nav" onclick="myFunction(this)" data-toggle="collapse">
            <span class="bar1"></span> 
            <span class="bar2"></span> 
            <span class="bar3"></span>
          </button>
          <div id="my-nav" class="collapse navbar-collapse">
            <ul class="navbar-nav mr-auto">
              <li class="nav-item"><a class="nav-link" href="#">Home</a></li>
              <li class="nav-item"><a class="nav-link" href="#calculators">Calculators</a></li>
              <li class="nav-item"><a class="nav-link" href="#services">Services</a></li>
              <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
            </ul>
            <form class="form-inline my-2 my-lg-0">
              <a href="#contact" class="btn btn-info my-2 my-sm-0 text-uppercase">Contact us</a>
            </form>
          </div>
        </div>
      </nav>
      
      <script>
        function myFunction(x) {
          x.classList.toggle("change"); // Toggle animation on burger icon
          document.getElementById("gtco-main-nav").classList.toggle("open");
        }
      </script>
      
<div class="container-fluid gtco-banner-area">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h1> We promise to bring
                    the best <span>solution</span> for
                    your business.</h1>
                <p> Expert Tax & Accounting Services, Powered by ACCA Excellence. </p>
                <a href="#contact">Contact Us <i class="fa fa-angle-right" aria-hidden="true"></i></a></div>
            <div class="col-md-6">
                <div class="card"><img class="card-img-top img-fluid" src="images/banner-img.png" alt=""></div>
            </div>
        </div>
    </div>
</div>

<!--Calculators-->
<div class="container-fluid gtco-news mt-4 scroll-fade"  id="calculators">
    <div class="container">
        <h2 class="mb-4">Calculators</h2>
        <div class="row g-3">
            <div class="col-12 col-sm-6 col-md-4 col-lg-2">
                <button class="btn btn-primary w-100 text-uppercase fw-bold calculator-btn" 
                        data-bs-toggle="modal" data-bs-target="#cgtModal">
                    CGT on Residential Property
                </button>
            </div>
            <div class="col-12 col-sm-6 col-md-4 col-lg-2">
                <button class="btn btn-primary w-100 text-uppercase fw-bold calculator-btn"
                data-bs-toggle="modal" data-bs-target="#cgtOtherModal">
                    CGT on Other
                </button>
            </div>
            <div class="col-12 col-sm-6 col-md-4 col-lg-2">
                <button class="btn btn-primary w-100 text-uppercase fw-bold calculator-btn"
                data-bs-toggle="modal" data-bs-target="#nicModal">
                    NIC Calculator
                </button>
            </div>
            <div class="col-12 col-sm-6 col-md-4 col-lg-2">
                <button class="btn btn-primary w-100 text-uppercase fw-bold calculator-btn"
                data-bs-toggle="modal" data-bs-target="#incomeTaxModal">
                    Income Tax
                </button>
            </div>
            <div class="col-12 col-sm-6 col-md-4 col-lg-2">
                <button class="btn btn-primary w-100 text-uppercase fw-bold calculator-btn"
                data-bs-toggle="modal" data-bs-target="#sdltModal">
                    SDLT
                </button>
            </div>
            <div class="col-12 col-sm-6 col-md-4 col-lg-2">
                <button class="btn btn-primary w-100 text-uppercase fw-bold calculator-btn"
                data-bs-toggle="modal" data-bs-target="#stampDutyModal">
                    Stamp Duty
                </button>
            </div>
        </div>
    </div>
</div>

<!--Services-->
<div class="container-fluid gtco-features-list scroll-fade" id="services">
    <div class="container">
        <h3 class="mb-3 text-center" style="font-size: 36px;">Services</h3>
        <div class="row">
            <div class="media col-md-6 col-lg-4">
                <div class="oval mr-4"><img class="align-self-start" src="images/quality-results.png" alt=""></div>
                <div class="media-body">
                    <h5 class="mb-0">Self Assessment Tax Returns</h5>
                    Aliquam a nisl pulvinar, hendrerit arcu sed, dapibus velit. Duis ac quam id sapien vestibulum
                    fermentum ac eu eros. Aliquam erat volutpat.
                </div>
            </div>
            <div class="media col-md-6 col-lg-4">
                <div class="oval mr-4"><img class="align-self-start" src="images/analytics.png" alt=""></div>
                <div class="media-body">
                    <h5 class="mb-0">Corporation Tax Returns</h5>
                    Aliquam a nisl pulvinar, hendrerit arcu sed, dapibus velit. Duis ac quam id sapien vestibulum
                    fermentum ac eu eros. Aliquam erat volutpat.
                </div>
            </div>
            <div class="media col-md-6 col-lg-4">
                <div class="oval mr-4"><img class="align-self-start" src="images/affordable-pricing.png" alt=""></div>
                <div class="media-body">
                    <h5 class="mb-0">Accounts Preparation</h5>
                    Aliquam a nisl pulvinar, hendrerit arcu sed, dapibus velit. Duis ac quam id sapien vestibulum
                    fermentum ac eu eros. Aliquam erat volutpat.
                </div>
            </div>
            <div class="media col-md-6 col-lg-4">
                <div class="oval mr-4"><img class="align-self-start" src="images/easy-to-use.png" alt=""></div>
                <div class="media-body">
                    <h5 class="mb-0">Capital Gains Tax</h5>
                    Aliquam a nisl pulvinar, hendrerit arcu sed, dapibus velit. Duis ac quam id sapien vestibulum
                    fermentum ac eu eros. Aliquam erat volutpat.
                </div>
            </div>
            <div class="media col-md-6 col-lg-4">
                <div class="oval mr-4"><img class="align-self-start" src="images/free-support.png" alt=""></div>
                <div class="media-body">
                    <h5 class="mb-0">Book Keeping</h5>
                    Aliquam a nisl pulvinar, hendrerit arcu sed, dapibus velit. Duis ac quam id sapien vestibulum
                    fermentum ac eu eros. Aliquam erat volutpat.
                </div>
            </div>
            <div class="media col-md-6 col-lg-4">
                <div class="oval mr-4"><img class="align-self-start" src="images/effectively-increase.png" alt=""></div>
                <div class="media-body">
                    <h5 class="mb-0">Tax Advisory</h5>
                    Aliquam a nisl pulvinar, hendrerit arcu sed, dapibus velit. Duis ac quam id sapien vestibulum
                    fermentum ac eu eros. Aliquam erat volutpat.
                </div>
            </div>
            <div class="media col-md-6 col-lg-4">
                <div class="oval mr-4"><img class="align-self-start" src="images/free-support.png" alt=""></div>
                <div class="media-body">
                    <h5 class="mb-0">Payroll</h5>
                    Aliquam a nisl pulvinar, hendrerit arcu sed, dapibus velit. Duis ac quam id sapien vestibulum
                    fermentum ac eu eros. Aliquam erat volutpat.
                </div>
        </div>
        <div class="media col-md-6 col-lg-4">
            <div class="oval mr-4"><img class="align-self-start" src="images/free-support.png" alt=""></div>
            <div class="media-body">
                <h5 class="mb-0">VAT</h5>
                Aliquam a nisl pulvinar, hendrerit arcu sed, dapibus velit. Duis ac quam id sapien vestibulum
                fermentum ac eu eros. Aliquam erat volutpat.
            </div>
    </div>
</div>

<!--About-->
<div class="container-fluid gtco-feature scroll-fade" id="about">
    <div class="container">
        <div class="row">
            <div class="col-md-7">
                <div class="cover">
                    <div class="card">
                        <svg
                                class="back-bg"
                                width="100%" viewBox="0 0 900 700" style="position:absolute; z-index: -1">
                            <defs>
                                <linearGradient id="PSgrad_01" x1="64.279%" x2="0%" y1="76.604%" y2="0%">
                                    <stop offset="0%" stop-color="rgb(1,230,248)" stop-opacity="1"/>
                                    <stop offset="100%" stop-color="rgb(29,62,222)" stop-opacity="1"/>
                                </linearGradient>
                            </defs>
                            <path fill-rule="evenodd" opacity="0.102" fill="url(#PSgrad_01)"
                                  d="M616.656,2.494 L89.351,98.948 C19.867,111.658 -16.508,176.639 7.408,240.130 L122.755,546.348 C141.761,596.806 203.597,623.407 259.843,609.597 L697.535,502.126 C748.221,489.680 783.967,441.432 777.751,392.742 L739.837,95.775 C732.096,35.145 677.715,-8.675 616.656,2.494 Z"/>
                        </svg>
                        <!-- *************-->

                        <svg width="100%" viewBox="0 0 700 500">
                            <clipPath id="clip-path">
                                <path d="M89.479,0.180 L512.635,25.932 C568.395,29.326 603.115,76.927 590.357,129.078 L528.827,380.603 C518.688,422.048 472.661,448.814 427.190,443.300 L73.350,400.391 C32.374,395.422 -0.267,360.907 -0.002,322.064 L1.609,85.154 C1.938,36.786 40.481,-2.801 89.479,0.180 Z"></path>
                            </clipPath>
                            <!-- xlink:href for modern browsers, src for IE8- -->
                            <image clip-path="url(#clip-path)" xlink:href="images/learn-img.jpg" width="100%"
                                   height="465" class="svg__image"></image>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="col-md-5">
                <h2> We are a trusted Accounting and Tax Firm, specializing in financial solutions and tax planning.
                        </h2>
                <p> Consulting a tax or accounting specialist ensures accurate financial management and compliance with tax laws. Whether you're navigating complex tax regulations, optimizing deductions, or managing business finances, an expert can provide tailored advice to help minimize liabilities and maximize financial efficiency. Their expertise offers peace of mind, saving time and reducing the risk of costly mistakes.
                    . </p>
                <p>
                    <small>Nunc sodales lobortis arcu, sit amet venenatis erat placerat a. Donec lacinia magna nulla,
                        cursus impediet augue egestas id. Suspendisse dolor lectus, pellentesque quis tincidunt ac,
                        dictum id neque.
                    </small>
                </p>
                <a href="#contact">Contact Us <i class="fa fa-angle-right" aria-hidden="true"></i></a></div>
        </div>
    </div>
</div>



<!-- Review Modal -->

<!--Modal for CGT on Residential Property -->
<div class="modal fade" id="cgtModal" tabindex="-1" aria-labelledby="cgtModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg"> <!-- modal-lg for a wider modal -->
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="cgtModalLabel">CGT on Residential Property</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            
                <h1 class="mb-4">Capital Gains Tax Calculator 2024/25</h1>
                <div class="container">
                    <div class="row">
                        <!-- Property Details -->
                        <div class="col-md-6 mb-4">
                            <h2 class="h5">Property Details</h2>
                            <div class="mb-3">
                                <label for="selling-price" class="form-label">Selling Price/Market Value</label>
                                <input type="number" class="form-control" id="selling-price" value="0">
                            </div>
                            <div class="mb-3">
                                <label for="selling-costs" class="form-label">Selling Costs</label>
                                <input type="number" class="form-control" id="selling-costs" value="0">
                            </div>
                            <div class="mb-3">
                                <label for="purchase-price" class="form-label">Purchase Price</label>
                                <input type="number" class="form-control" id="purchase-price" value="0">
                            </div>
                            <div class="mb-3">
                                <label for="purchase-costs" class="form-label">Purchase Costs</label>
                                <input type="number" class="form-control" id="purchase-costs" value="0">
                            </div>
                            <div class="mb-3">
                                <label for="enhancement-costs" class="form-label">Enhancement Costs</label>
                                <input type="number" class="form-control" id="enhancement-costs" value="0">
                            </div>
                            <div class="mb-3">
                                <label for="ownership-percent" class="form-label">Ownership Percentage (%)</label>
                                <input type="number" class="form-control" id="ownership-percent" value="0" step="1">
                            </div>
                        </div>
                        <!-- Dates and Income Details -->
                        <div class="col-md-6 mb-4">
                            <h2 class="h5">Dates</h2>
                            <div class="mb-3">
                                <label for="sale-date" class="form-label">Date of Sale</label>
                                <input type="date" class="form-control" id="sale-date" value="#">
                            </div>
                            <div class="mb-3">
                                <label for="purchase-date" class="form-label">Date of Purchase</label>
                                <input type="date" class="form-control" id="purchase-date" value="#">
                            </div>
                            <div class="mb-3">
                                <label for="cessation-date" class="form-label">Date Residence Ceased</label>
                                <input type="date" class="form-control" id="cessation-date" value="#">
                            </div>
            
                            <h2 class="h5 mt-4">Income Details</h2>
                            <div class="mb-3">
                                <label for="income1" class="form-label">Income 1</label>
                                <input type="number" class="form-control" id="income1" value="0">
                            </div>
                            <div class="mb-3">
                                <label for="income2" class="form-label">Income 2</label>
                                <input type="number" class="form-control" id="income2" value="0">
                            </div>
                            <div class="mb-3">
                                <label for="income3" class="form-label">Income 3</label>
                                <input type="number" class="form-control" id="income3" value="0">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="text-center mb-4">
                    <button class="btn btn-success" onclick="calculateCGT()">Calculate Capital Gains Tax</button>
                </div>
                
                <div class="results">
                    <h2 class="h5">Calculation Results</h2>
                    <div id="results-container" class="mb-3"></div>
                    
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" id="showDetails" onchange="toggleDetails()">
                        <label class="form-check-label" for="showDetails">Show detailed calculations</label>
                    </div>
                    
                    <div id="detailed-results" class="detailed-results" style="display:none;">
                        <!-- Detailed table will be inserted here -->
                    </div>
                </div>
            
                <!-- Inline CSS for additional table styling -->
                <style>
                    .results table {
                        width: 100%;
                        border-collapse: collapse;
                    }
                    .results th, .results td {
                        padding: 0.75rem;
                        text-align: left;
                        border: 1px solid #dee2e6;
                    }
                    .results th {
                        background-color: #f8f9fa;
                    }
                </style>
                
                <script>
                    function formatCurrency(value) {
                        if (isNaN(value)) return '£0';
                        if (value < 0) {
                            return '-£' + Math.abs(value).toLocaleString('en-GB', { maximumFractionDigits: 0 });
                        }
                        return '£' + value.toLocaleString('en-GB', { maximumFractionDigits: 0 });
                    }
            
                    function getDaysBetween(startDate, endDate) {
                        const timeDiff = endDate.getTime() - startDate.getTime();
                        return Math.floor(timeDiff / (1000 * 3600 * 24));
                    }
            
                    function toggleDetails() {
                        const detailedResults = document.getElementById('detailed-results');
                        if (detailedResults.style.display === 'none' || detailedResults.style.display === '') {
                            detailedResults.style.display = 'block';
                        } else {
                            detailedResults.style.display = 'none';
                        }
                    }
            
                    function calculateCGT() {
                        // Get input values
                        const sellingPrice = parseFloat(document.getElementById('selling-price').value) || 0;
                        const sellingCosts = parseFloat(document.getElementById('selling-costs').value) || 0;
                        const purchasePrice = parseFloat(document.getElementById('purchase-price').value) || 0;
                        const purchaseCosts = parseFloat(document.getElementById('purchase-costs').value) || 0;
                        const enhancementCosts = parseFloat(document.getElementById('enhancement-costs').value) || 0;
                        const ownershipPercent = (parseFloat(document.getElementById('ownership-percent').value) || 100) / 100;
                        
                        // Date calculations
                        const saleDate = new Date(document.getElementById('sale-date').value);
                        const purchaseDate = new Date(document.getElementById('purchase-date').value);
                        const cessationDate = new Date(document.getElementById('cessation-date').value);
                        
                        // Income calculations
                        const totalIncome = [document.getElementById('income1'), document.getElementById('income2'), document.getElementById('income3')]
                            .reduce((acc, el) => acc + (parseFloat(el.value) || 0), 0);
            
                        // Calculate key values
                        const netSellingPrice = (sellingPrice - sellingCosts) * ownershipPercent;
                        const totalPurchaseCost = (purchasePrice + purchaseCosts + enhancementCosts) * ownershipPercent;
                        const totalGain = netSellingPrice - totalPurchaseCost;
            
                        // Date calculations
                        const ownershipDays = getDaysBetween(purchaseDate, saleDate) + 1;
                        const lastResidencyDate = cessationDate < saleDate ? new Date(cessationDate) : saleDate;
                        const actualResidencyDays = getDaysBetween(purchaseDate, lastResidencyDate) + 1;
                        const deemedResidencyDays = 274;
                        const totalResidencyDays = Math.min(actualResidencyDays + deemedResidencyDays, ownershipDays);
                        const pprPercentage = totalResidencyDays / ownershipDays;
            
                        // Relief and taxable gain
                        const pprRelief = Math.max(totalGain, 0) * pprPercentage;
                        const gainAfterPPR = totalGain > 0 ? totalGain - pprRelief : totalGain;
                        const annualExemption = 3000;
                        const taxableGain = gainAfterPPR > 0 ? Math.max(gainAfterPPR - annualExemption, 0) : gainAfterPPR;
            
                        // CGT calculation
                        const basicRateLimit = 50270;
                        const remainingBasicBand = Math.max(basicRateLimit - totalIncome, 0);
                        const basicRateGain = Math.min(taxableGain, remainingBasicBand);
                        const higherRateGain = Math.max(taxableGain - basicRateGain, 0);
                        
                        const basicRateTax = basicRateGain * 0.18;
                        const higherRateTax = higherRateGain * 0.24;
                        const totalTax = basicRateTax + higherRateTax;
            
                        // Display results
                        const summaryHTML = `
                            <div class="alert alert-info">
                                Estimated Capital Gains Tax: <strong>${formatCurrency(totalTax)}</strong>
                            </div>
                        `;
            
                        const detailedHTML = `
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Calculation</th>
                                        <th>Value</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr><td>Net Selling Price</td><td>${formatCurrency(netSellingPrice)}</td></tr>
                                    <tr><td>Total Purchase Cost</td><td>${formatCurrency(totalPurchaseCost)}</td></tr>
                                    <tr><td>Total Gain</td><td>${formatCurrency(totalGain)}</td></tr>
                                    <tr><td>PPR Relief</td><td>${formatCurrency(pprRelief)}</td></tr>
                                    <tr><td>Taxable Gain After Relief</td><td>${formatCurrency(gainAfterPPR)}</td></tr>
                                    <tr><td>Taxable Gain After Exemption</td><td>${formatCurrency(taxableGain)}</td></tr>
                                    <tr><td>Basic Rate Tax (18%)</td><td>${formatCurrency(basicRateTax)}</td></tr>
                                    <tr><td>Higher Rate Tax (24%)</td><td>${formatCurrency(higherRateTax)}</td></tr>
                                </tbody>
                            </table>
                        `;
            
                        document.getElementById('results-container').innerHTML = summaryHTML;
                        document.getElementById('detailed-results').innerHTML = detailedHTML;
                    }
                </script>
            </div>
        </div>
    </div>
</div>
<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!--Modal for CGT on others -->
<div class="modal fade" id="cgtOtherModal" tabindex="-1" aria-labelledby="cgtOtherModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg"> <!-- Wider modal -->
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="cgtOtherModalLabel">Non-Wasting Assets CGT Calculator</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- Calculator Content -->
          <div class="calculator">
            <h1>Non-Wasting Assets CGT Calculator</h1>
            
            <div class="definition-box">
              <p>
                A <strong>non-wasting chattel</strong> is tangible movable property with an expected life of more than 50 years. 
                Examples include:
              </p>
              <ul>
                <li>Fine art</li>
                <li>Antiques</li>
                <li>Jewellery</li>
                <li>Vintage vehicles</li>
                <li>Collector's items</li>
              </ul>
              <p style="margin-top: 10px; font-style: italic; color: #666;">
                Note: Special Capital Gains Tax rules apply when selling non-wasting chattels for more than £6,000.
              </p>
            </div>
      
            <div class="input-group">
              <label for="other-selling-price">Selling Price</label>
              <input type="number" id="other-selling-price" value="10000" class="form-control">
            </div>
            
            <div class="input-group">
              <label for="other-purchase-cost">Purchase Cost</label>
              <input type="number" id="other-purchase-cost" value="5000" class="form-control">
            </div>
      
            <div class="input-group">
              <label for="other-total-income">Total Annual Income</label>
              <input type="number" id="other-total-income" value="50000" class="form-control">
            </div>
            
            <button onclick="calculateGain()">Calculate Capital Gains Tax</button>
            
            <div class="result mt-3">
              <div id="other-output"></div>
              <div class="toggle-container">
                <input type="checkbox" id="other-showDetails" onchange="toggleExplanation()">
                <label for="other-showDetails">Show detailed calculation</label>
              </div>
              <div class="explanation" id="other-explanation"></div>
            </div>
          </div>
          
          <!-- Embedded CSS (excluding button styles) -->
          <style>
            body {
              font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
              background-color: #f8f9fa;
              color: #2c3e50;
            }
            .calculator {
              background: white;
              padding: 30px;
              border-radius: 12px;
              box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            }
            h1 {
              text-align: center;
              margin-bottom: 30px;
              color: #1a365d;
              font-size: 2em;
            }
            .definition-box {
              background: #f8fafc;
              border-left: 4px solid #4299e1;
              padding: 20px;
              margin-bottom: 25px;
              border-radius: 4px;
            }
            .definition-box p {
              margin: 0 0 10px 0;
              font-size: 0.95em;
              color: #4a5568;
            }
            .definition-box ul {
              margin: 0;
              padding-left: 20px;
              list-style-type: none;
            }
            .definition-box li:before {
              content: "•";
              color: #4299e1;
              display: inline-block;
              width: 1em;
              margin-left: -1em;
            }
            .input-group {
              margin-bottom: 20px;
            }
            label {
              display: block;
              margin-bottom: 8px;
              font-weight: 500;
              color: #4a5568;
            }
            input.form-control {
              width: 100%;
              padding: 12px;
              border: 1px solid #e2e8f0;
              border-radius: 6px;
              font-size: 16px;
              transition: all 0.2s ease;
            }
            input.form-control:focus {
              border-color: #4299e1;
              box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);
              outline: none;
            }
            /* Button styling removed to use default styles */
            .result {
              margin-top: 20px;
              padding: 20px;
              background: #f8fafc;
              border-radius: 8px;
            }
            .toggle-container {
              margin: 15px 0;
              display: flex;
              align-items: center;
              gap: 10px;
            }
            #other-showDetails {
              width: 16px;
              height: 16px;
            }
            .explanation {
              display: none;
              margin-top: 15px;
              padding: 15px;
              background: white;
              border-radius: 6px;
              border: 1px solid #e2e8f0;
            }
            .explanation.visible {
              display: block;
            }
            .total-result {
              font-size: 1.4em;
              font-weight: 600;
              color: #1a365d;
              margin-bottom: 15px;
            }
            .tax-breakdown {
              color: #4a5568;
              margin-top: 10px;
            }
          </style>
          
          <!-- JavaScript: Unique IDs used for this modal -->
          <script>
            function formatCurrency(value) {
              if (isNaN(value)) return '£0';
              if (value < 0) {
                return '-£' + Math.abs(value).toLocaleString('en-GB', { maximumFractionDigits: 0 });
              }
              return '£' + value.toLocaleString('en-GB', { maximumFractionDigits: 0 });
            }
    
            function toggleExplanation() {
              const explanation = document.getElementById('other-explanation');
              explanation.classList.toggle('visible');
            }
    
            function calculateGain() {
              // Get input values using unique IDs
              const sellingPrice = parseFloat(document.getElementById('other-selling-price').value) || 0;
              const purchaseCost = parseFloat(document.getElementById('other-purchase-cost').value) || 0;
              const totalIncome = parseFloat(document.getElementById('other-total-income').value) || 0;
              
              // Constants
              const ANNUAL_EXEMPTION = 3000;
              const BASIC_RATE_LIMIT = 37700;
              const PERSONAL_ALLOWANCE = 12570;
    
              // Calculate taxable gain
              let taxableGain = 0;
              if (sellingPrice <= 6000) {
                const actualGain = sellingPrice - purchaseCost;
                taxableGain = actualGain > 0 ? 0 : Math.max(-(purchaseCost - Math.max(sellingPrice, 6000)), 0);
              } else {
                if (purchaseCost <= 6000) {
                  const actualGain = sellingPrice - purchaseCost;
                  const alternativeGain = (5/3) * (sellingPrice - 6000);
                  taxableGain = Math.min(actualGain, alternativeGain);
                } else {
                  taxableGain = sellingPrice - purchaseCost;
                }
              }
    
              // Apply annual exemption
              const gainAfterExemption = Math.max(taxableGain - ANNUAL_EXEMPTION, 0);
    
              // Calculate taxable income
              const taxableIncome = Math.max(totalIncome - PERSONAL_ALLOWANCE, 0);
              const remainingBasicBand = Math.max(BASIC_RATE_LIMIT - taxableIncome, 0);
              
              // Calculate CGT
              let basicRateGain = Math.min(gainAfterExemption, remainingBasicBand);
              let higherRateGain = Math.max(gainAfterExemption - remainingBasicBand, 0);
              const cgt = (basicRateGain * 0.18) + (higherRateGain * 0.24);
    
              // Prepare explanation
              let explanation = `<strong>Calculation Steps:</strong><br>
                              1. Taxable Gain: ${formatCurrency(taxableGain)}<br>
                              2. Less Annual Exemption: ${formatCurrency(ANNUAL_EXEMPTION)}<br>
                              3. Net Taxable Gain: ${formatCurrency(gainAfterExemption)}<br><br>
                              <strong>Tax Calculation:</strong><br>
                              • Basic Rate Band Available: ${formatCurrency(remainingBasicBand)}<br>
                              • Taxed @18%: ${formatCurrency(basicRateGain)}<br>
                              • Taxed @24%: ${formatCurrency(higherRateGain)}`;
    
              // Display results
              const resultElement = document.getElementById('other-output');
              const explanationElement = document.getElementById('other-explanation');
              
              resultElement.innerHTML = `
                  <div class="total-result">
                      ${gainAfterExemption > 0 ? 
                          `Net Taxable Gain: ${formatCurrency(gainAfterExemption)}<br>
                          Capital Gains Tax: ${formatCurrency(cgt)}` 
                          : "No Capital Gains Tax payable"}
                  </div>
                  ${gainAfterExemption > 0 ? 
                      `<div class="tax-breakdown">
                          (Includes ${formatCurrency(basicRateGain)} @18% + 
                          ${formatCurrency(higherRateGain)} @24%)
                      </div>` 
                      : ''}
              `;
    
              explanationElement.innerHTML = explanation;
            }
          </script>
        </div>
      </div>
    </div>
  </div>
  
  <!--Modal for NIC calculator -->
  <div class="modal fade" id="nicModal" tabindex="-1" aria-labelledby="nicModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg"> <!-- Use a large modal for ample space -->
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="nicModalLabel">National Insurance Contributions Calculator 2024-25</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- Wrap your content in a scoped container -->
          <div class="nic-calculator-modal">
            <style>
              /* Use a container-specific selector instead of body */
              .nic-calculator-modal {
                font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
                max-width: 800px;
                margin: 0 auto;
                padding: 0 20px;
                background-color: #f8f9fa;
                color: #2c3e50;
              }
    
              .nic-calculator-modal h1 {
                text-align: center;
                margin-bottom: 30px;
                color: #1a365d;
                font-size: 1.8em;
                border-bottom: 2px solid #e2e8f0;
                padding-bottom: 15px;
              }
    
              .nic-calculator-modal .calculator {
                background: white;
                padding: 30px;
                border-radius: 12px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
              }
    
              .nic-calculator-modal .input-group {
                margin-bottom: 20px;
              }
    
              .nic-calculator-modal label {
                display: block;
                margin-bottom: 8px;
                font-weight: 500;
                color: #4a5568;
              }
    
              .nic-calculator-modal input {
                width: 100%;
                padding: 12px;
                border: 1px solid #e2e8f0;
                border-radius: 6px;
                font-size: 16px;
                transition: all 0.2s ease;
              }
    
              .nic-calculator-modal input:focus {
                border-color: #4299e1;
                box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);
                outline: none;
              }
    
              .nic-calculator-modal button {
                background: #4299e1;
                color: white;
                border: none;
                padding: 14px 28px;
                border-radius: 6px;
                font-size: 16px;
                font-weight: 500;
                cursor: pointer;
                transition: all 0.2s ease;
                width: 100%;
                margin: 20px 0;
              }
    
              .nic-calculator-modal button:hover {
                background: #3182ce;
                transform: translateY(-1px);
              }
    
              .nic-calculator-modal .results {
                margin-top: 30px;
              }
    
              .nic-calculator-modal .nic-result {
                background: #f8fafc;
                padding: 20px;
                border-radius: 8px;
                margin-bottom: 20px;
                display: none;
                border: 1px solid #e2e8f0;
              }
    
              .nic-calculator-modal .amount {
                font-size: 1.4em;
                color: #1a365d;
                font-weight: 600;
                margin: 10px 0;
              }
    
              .nic-calculator-modal .toggle-container {
                margin: 20px 0;
                display: flex;
                align-items: center;
                gap: 10px;
              }
    
              .nic-calculator-modal #showDetails {
                width: 18px;
                height: 18px;
              }
    
              .nic-calculator-modal .breakdown {
                display: none;
                margin-top: 15px;
                padding: 15px;
                background: white;
                border-radius: 6px;
                border: 1px solid #e2e8f0;
              }
    
              .nic-calculator-modal .breakdown.visible {
                display: block;
              }
    
              .nic-calculator-modal .breakdown-item {
                padding: 8px 0;
                border-bottom: 1px solid #eee;
              }
            </style>
    
            <div class="calculator">
              <h1>National Insurance Contributions Calculator 2024-25</h1>
              
              <div class="input-group">
                  <label>Employment Income</label>
                  <input type="number" id="employment" min="0">
              </div>
              
              <div class="input-group">
                  <label>Trading Income</label>
                  <input type="number" id="trading" min="0">
              </div>
              
              <div class="input-group">
                  <label>Rental Income</label>
                  <input type="number" id="rental" min="0">
              </div>
              
              <div class="input-group">
                  <label>Savings Income</label>
                  <input type="number" id="savings" min="0">
              </div>
              
              <div class="input-group">
                  <label>Dividend Income</label>
                  <input type="number" id="dividend" min="0">
              </div>
    
              <button onclick="calculateNIC()">Calculate NICs</button>
    
              <div class="results">
                  <div class="toggle-container">
                      <input type="checkbox" id="showDetails" onchange="toggleBreakdown()">
                      <label for="showDetails">Show detailed calculations</label>
                  </div>
    
                  <div id="class1Result" class="nic-result">
                      <h3>Class 1 Primary NIC Contribution</h3>
                      <div class="amount">£<span id="class1Amount">0</span></div>
                      <div class="breakdown" id="class1Breakdown"></div>
                  </div>
                  
                  <div id="class4Result" class="nic-result">
                      <h3>Class 4 NIC Contribution</h3>
                      <div class="amount">£<span id="class4Amount">0</span></div>
                      <div class="breakdown" id="class4Breakdown"></div>
                  </div>
              </div>
            </div>
    
            <script>
              function formatCurrency(value) {
                  if (isNaN(value)) return '£0';
                  return '£' + Math.round(value).toLocaleString('en-GB');
              }
    
              function toggleBreakdown() {
                  const show = document.getElementById('showDetails').checked;
                  document.querySelectorAll('.nic-calculator-modal .breakdown').forEach(el => {
                      el.style.display = show ? 'block' : 'none';
                  });
              }
    
              function calculateNIC() {
                  // Get input values
                  const employmentIncome = parseFloat(document.getElementById('employment').value) || 0;
                  const tradingIncome = parseFloat(document.getElementById('trading').value) || 0;
    
                  // Class 1 Primary NIC Calculation
                  let class1 = 0;
                  let class1Breakdown = [];
                  if (employmentIncome > 0) {
                      const primaryThreshold = 12570;
                      const upperEarningsLimit = 50270;
                      
                      const taxableAmount = employmentIncome - primaryThreshold;
                      
                      if (taxableAmount > 0) {
                          const lowerBand = Math.min(taxableAmount, upperEarningsLimit - primaryThreshold);
                          const upperBand = Math.max(taxableAmount - (upperEarningsLimit - primaryThreshold), 0);
                          
                          class1 = (lowerBand * 0.08) + (upperBand * 0.02);
                          
                          class1Breakdown.push(
                              `Primary Threshold: ${formatCurrency(primaryThreshold)}`,
                              `Taxable Amount: ${formatCurrency(taxableAmount)}`,
                              `Lower Band (8%): ${formatCurrency(lowerBand)}`,
                              `Upper Band (2%): ${formatCurrency(upperBand)}`
                          );
                      }
                  }
    
                  // Class 4 NIC Calculation
                  let class4 = 0;
                  let class4Breakdown = [];
                  if (tradingIncome > 0) {
                      const lowerProfitsLimit = 12570;
                      const upperProfitsLimit = 50270;
                      
                      const taxableProfit = tradingIncome - lowerProfitsLimit;
                      
                      if (taxableProfit > 0) {
                          const lowerBand = Math.min(taxableProfit, upperProfitsLimit - lowerProfitsLimit);
                          const upperBand = Math.max(taxableProfit - (upperProfitsLimit - lowerProfitsLimit), 0);
                          
                          class4 = (lowerBand * 0.06) + (upperBand * 0.02);
                          
                          class4Breakdown.push(
                              `Lower Profits Limit: ${formatCurrency(lowerProfitsLimit)}`,
                              `Taxable Profit: ${formatCurrency(taxableProfit)}`,
                              `Lower Band (6%): ${formatCurrency(lowerBand)}`,
                              `Upper Band (2%): ${formatCurrency(upperBand)}`
                          );
                      }
                  }
    
                  // Update display
                  document.getElementById('class1Amount').textContent = class1.toLocaleString('en-GB');
                  document.getElementById('class4Amount').textContent = class4.toLocaleString('en-GB');
                  
                  document.getElementById('class1Result').style.display = employmentIncome > 0 ? 'block' : 'none';
                  document.getElementById('class4Result').style.display = tradingIncome > 0 ? 'block' : 'none';
    
                  // Update breakdowns
                  document.getElementById('class1Breakdown').innerHTML = class1Breakdown
                      .map(item => `<div class="breakdown-item">${item}</div>`).join('');
                      
                  document.getElementById('class4Breakdown').innerHTML = class4Breakdown
                      .map(item => `<div class="breakdown-item">${item}</div>`).join('');
              }
            </script>
          </div>
        </div>
      </div>
    </div>
  </div>
  
<!--Modal for income tax -->
<div class="modal fade" id="incomeTaxModal" tabindex="-1" aria-labelledby="incomeTaxModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg"> <!-- Large modal for ample space -->
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="incomeTaxModalLabel">UK Income Tax Calculator 2024/25</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- Scoped Container -->
          <div class="income-tax-modal">
            <style>
              /* Scoped styles for Income Tax Calculator only */
              .income-tax-modal {
                font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
                max-width: 800px;
                margin: 0 auto;
                padding: 0 20px;
                background-color: #f8f9fa;
                color: #2c3e50;
              }
              .income-tax-modal .calculator {
                background: white;
                padding: 30px;
                border-radius: 12px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
              }
              .income-tax-modal h2 {
                text-align: center;
                margin-bottom: 30px;
                color: #1a365d;
                font-size: 1.8em;
                border-bottom: 2px solid #e2e8f0;
                padding-bottom: 15px;
              }
              .income-tax-modal .input-group {
                margin-bottom: 20px;
                display: flex;
                align-items: center;
                gap: 15px;
              }
              .income-tax-modal label {
                flex: 0 0 200px;
                font-weight: 500;
                color: #4a5568;
              }
              .income-tax-modal input {
                flex: 1;
                padding: 12px;
                border: 1px solid #e2e8f0;
                border-radius: 6px;
                font-size: 16px;
                transition: all 0.2s ease;
              }
              .income-tax-modal input:focus {
                border-color: #4299e1;
                box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);
                outline: none;
              }
              .income-tax-modal button {
                background: #4299e1;
                color: white;
                border: none;
                padding: 14px 28px;
                border-radius: 6px;
                font-size: 16px;
                font-weight: 500;
                cursor: pointer;
                transition: all 0.2s ease;
                width: 100%;
                margin: 20px 0;
              }
              .income-tax-modal button:hover {
                background: #3182ce;
                transform: translateY(-1px);
              }
              .income-tax-modal .results {
                margin-top: 20px;
                padding: 25px;
                background: #f8fafc;
                border-radius: 8px;
                display: none;
              }
              .income-tax-modal .results h3 {
                color: #1a365d;
                margin-bottom: 15px;
                font-size: 1.3em;
              }
              .income-tax-modal .results div {
                margin: 12px 0;
                padding: 10px;
                background: white;
                border-radius: 6px;
                border: 1px solid #e2e8f0;
              }
              .income-tax-modal .tax-breakdown {
                margin-left: 20px;
                color: #4a5568;
              }
              .income-tax-modal .toggle-container {
                margin: 20px 0;
                display: flex;
                align-items: center;
                gap: 10px;
              }
              .income-tax-modal #showDetails {
                width: 18px;
                height: 18px;
              }
              .income-tax-modal .calculation-steps {
                margin-top: 20px;
                border-top: 2px solid #e2e8f0;
                padding-top: 20px;
                display: none;
              }
              .income-tax-modal .calculation-steps.visible {
                display: block;
              }
              .income-tax-modal .step {
                margin-bottom: 20px;
                padding: 15px;
                background: white;
                border-radius: 6px;
                border: 1px solid #e2e8f0;
              }
            </style>
            
            <div class="calculator">
              <h2>UK Income Tax Calculator 2024/25</h2>
              
              <div class="input-group">
                <label>Employment Income</label>
                <input type="number" id="employment">
              </div>
              
              <div class="input-group">
                <label>Rental Income</label>
                <input type="number" id="rental">
              </div>
              
              <div class="input-group">
                <label>Trading Income</label>
                <input type="number" id="trading">
              </div>
              
              <div class="input-group">
                <label>Interest Income</label>
                <input type="number" id="interest">
              </div>
              
              <div class="input-group">
                <label>Dividend Income</label>
                <input type="number" id="dividends">
              </div>
              
              <div class="input-group">
                <label>Deductible Payments</label>
                <input type="number" id="deductions">
              </div>
    
              <button onclick="calculateTax()">Calculate</button>
    
              <div class="results" id="results">
                <h3>Annual Breakdown</h3>
                <div>Total Income: <span id="totalIncome">£0</span></div>
                <div>Total Tax Liability: <span id="totalTax">£0</span></div>
                <div>Net Income After Tax: <span id="netIncome">£0</span></div>
                
                <h3>Monthly Breakdown</h3>
                <div>Monthly Income: <span id="monthlyIncome">£0</span></div>
                <div>Monthly Tax: <span id="monthlyTax">£0</span></div>
                <div>Monthly Net Income: <span id="monthlyNetIncome">£0</span></div>
                
                <div class="toggle-container">
                  <input type="checkbox" id="showDetails" onchange="toggleSteps()">
                  <label for="showDetails">Show detailed calculations</label>
                </div>
                
                <div class="calculation-steps" id="calculationSteps"></div>
              </div>
            </div>
    
            <script>
              function formatCurrency(value) {
                if (isNaN(value)) return '£0';
                const absValue = Math.abs(value);
                const formatted = '£' + absValue.toLocaleString('en-GB', { maximumFractionDigits: 0 });
                return value < 0 ? `-${formatted}` : formatted;
              }
    
              function toggleSteps() {
                const steps = document.getElementById('calculationSteps');
                steps.classList.toggle('visible');
              }
    
              function calculateTax() {
                // Constants for 2024/25
                const PERSONAL_ALLOWANCE = 12570;
                const BASIC_RATE_LIMIT = 37700;
                const HIGHER_RATE_LIMIT = 125140;
                const SAVINGS_ALLOWANCE_BASIC = 1000;
                const SAVINGS_ALLOWANCE_HIGHER = 500;
                const DIVIDEND_ALLOWANCE = 1000;
    
                // Get input values
                let nonSavings = parseFloat(document.getElementById('employment').value || 0) +
                               parseFloat(document.getElementById('rental').value || 0) +
                               parseFloat(document.getElementById('trading').value || 0);
                
                let savings = parseFloat(document.getElementById('interest').value || 0);
                let dividends = parseFloat(document.getElementById('dividends').value || 0);
                let deductions = parseFloat(document.getElementById('deductions').value || 0);
    
                let calculationSteps = [];
    
                // Step 1: Apply deductible payments
                calculationSteps.push(`<div class="step"><strong>Step 1: Apply Deductible Payments</strong><br>
                                    Original Non-Savings Income: ${formatCurrency(nonSavings)}<br>
                                    Deductible Payments: ${formatCurrency(deductions)}<br>
                                    Remaining Non-Savings Income: ${formatCurrency(Math.max(nonSavings - deductions, 0))}</div>`);
    
                nonSavings = Math.max(nonSavings - deductions, 0);
    
                // Step 2: Calculate adjusted net income
                let adjustedNetIncome = nonSavings + savings + dividends;
                calculationSteps.push(`<div class="step"><strong>Step 2: Calculate Adjusted Net Income</strong><br>
                                    Non-Savings: ${formatCurrency(nonSavings)}<br>
                                    Savings: ${formatCurrency(savings)}<br>
                                    Dividends: ${formatCurrency(dividends)}<br>
                                    Total Adjusted Net Income: ${formatCurrency(adjustedNetIncome)}</div>`);
    
                // Step 3: Calculate personal allowance
                let personalAllowance = PERSONAL_ALLOWANCE;
                if (adjustedNetIncome > 100000) {
                  const reduction = Math.ceil((adjustedNetIncome - 100000) / 2);
                  personalAllowance = Math.max(PERSONAL_ALLOWANCE - reduction, 0);
                  calculationSteps.push(`<div class="step"><strong>Step 3: Adjust Personal Allowance</strong><br>
                                      Income over £100k: ${formatCurrency(adjustedNetIncome - 100000)}<br>
                                      Allowance reduction: ${formatCurrency(reduction)}<br>
                                      Adjusted Personal Allowance: ${formatCurrency(personalAllowance)}</div>`);
                }
    
                // Step 4: Allocate personal allowance
                let taxableNonSavings = Math.max(nonSavings - personalAllowance, 0);
                personalAllowance = Math.max(personalAllowance - nonSavings, 0);
                calculationSteps.push(`<div class="step"><strong>Step 4: Allocate Personal Allowance</strong><br>
                                    Non-Savings after PA: ${formatCurrency(taxableNonSavings)}<br>
                                    Remaining PA: ${formatCurrency(personalAllowance)}</div>`);
    
                // Initialize tax variables
                let remainingBasicBand = BASIC_RATE_LIMIT;
                let remainingHigherBand = HIGHER_RATE_LIMIT - BASIC_RATE_LIMIT;
                let taxDetails = [];
    
                // Tax non-savings income
                let nonSavingsTax = 0;
                if (taxableNonSavings > 0) {
                  const basicPart = Math.min(taxableNonSavings, remainingBasicBand);
                  const higherPart = Math.min(taxableNonSavings - basicPart, remainingHigherBand);
                  const additionalPart = Math.max(taxableNonSavings - basicPart - higherPart, 0);
                  
                  nonSavingsTax = (basicPart * 0.20) + (higherPart * 0.40) + (additionalPart * 0.45);
                  
                  taxDetails.push(`Non-Savings Tax: ${formatCurrency(nonSavingsTax)} 
                                  (Basic: ${formatCurrency(basicPart)} @20%, 
                                  Higher: ${formatCurrency(higherPart)} @40%, 
                                  Additional: ${formatCurrency(additionalPart)} @45%)`);
                  
                  remainingBasicBand -= basicPart;
                  remainingHigherBand -= higherPart;
                }
    
                // Tax savings income
                let savingsTax = 0;
                let savingsAllowance = SAVINGS_ALLOWANCE_BASIC;
                if (adjustedNetIncome > HIGHER_RATE_LIMIT) {
                  savingsAllowance = 0;
                } else if (adjustedNetIncome > BASIC_RATE_LIMIT) {
                  savingsAllowance = SAVINGS_ALLOWANCE_HIGHER;
                }
    
                const taxableSavings = savings;
                if (taxableSavings > 0) {
                  // Starting rate for savings
                  const startingRateBand = Math.max(5000 - taxableNonSavings, 0);
                  const startingRatePart = Math.min(taxableSavings, startingRateBand);
                  const taxableAfterStarting = Math.max(taxableSavings - startingRatePart, 0);
                  
                  // Apply savings allowance
                  const savingsAllowancePart = Math.min(taxableAfterStarting, savingsAllowance);
                  const taxableAfterAllowance = Math.max(taxableAfterStarting - savingsAllowancePart, 0);
                  
                  const basicPart = Math.min(taxableAfterAllowance, remainingBasicBand);
                  const higherPart = Math.min(taxableAfterAllowance - basicPart, remainingHigherBand);
                  const additionalPart = Math.max(taxableAfterAllowance - basicPart - higherPart, 0);
                  
                  savingsTax = (basicPart * 0.20) + (higherPart * 0.40) + (additionalPart * 0.45);
                  
                  taxDetails.push(`Savings Tax: ${formatCurrency(savingsTax)} 
                                 (Starting Rate: ${formatCurrency(startingRatePart)} @0%, 
                                 Allowance: ${formatCurrency(savingsAllowancePart)} @0%, 
                                 Basic: ${formatCurrency(basicPart)} @20%, 
                                 Higher: ${formatCurrency(higherPart)} @40%, 
                                 Additional: ${formatCurrency(additionalPart)} @45%)`);
                  
                  remainingBasicBand -= basicPart;
                  remainingHigherBand -= higherPart;
                }
    
                // Tax dividend income
                let dividendTax = 0;
                const taxableDividends = dividends;
                if (taxableDividends > 0) {
                  const allowancePart = Math.min(taxableDividends, DIVIDEND_ALLOWANCE);
                  const taxableAfterAllowance = Math.max(taxableDividends - allowancePart, 0);
                  
                  const basicPart = Math.min(taxableAfterAllowance, remainingBasicBand);
                  const higherPart = Math.min(taxableAfterAllowance - basicPart, remainingHigherBand);
                  const additionalPart = Math.max(taxableAfterAllowance - basicPart - higherPart, 0);
                  
                  dividendTax = (basicPart * 0.0875) + (higherPart * 0.3375) + (additionalPart * 0.3935);
                  
                  taxDetails.push(`Dividend Tax: ${formatCurrency(dividendTax)} 
                                 (Allowance: ${formatCurrency(allowancePart)} @0%, 
                                 Basic: ${formatCurrency(basicPart)} @8.75%, 
                                 Higher: ${formatCurrency(higherPart)} @33.75%, 
                                 Additional: ${formatCurrency(additionalPart)} @39.35%)`);
                }
    
                // Calculate totals
                const totalIncome = nonSavings + savings + dividends + deductions;
                const totalTax = nonSavingsTax + savingsTax + dividendTax;
                const netIncome = totalIncome - totalTax;
    
                // Update results
                document.getElementById('results').style.display = 'block';
                document.getElementById('totalIncome').textContent = formatCurrency(totalIncome);
                document.getElementById('totalTax').textContent = formatCurrency(totalTax);
                document.getElementById('netIncome').textContent = formatCurrency(netIncome);
                
                // Monthly calculations
                document.getElementById('monthlyIncome').textContent = formatCurrency(totalIncome / 12);
                document.getElementById('monthlyTax').textContent = formatCurrency(totalTax / 12);
                document.getElementById('monthlyNetIncome').textContent = formatCurrency(netIncome / 12);
    
                // Show calculation steps
                calculationSteps.push(`<div class="step"><strong>Final Tax Calculation:</strong><br>
                                     ${taxDetails.join('<br>')}</div>`);
                document.getElementById('calculationSteps').innerHTML = calculationSteps.join('');
              }
            </script>
          </div>
        </div>
      </div>
    </div>
  </div>
  
<!--Modal for SDLT -->
<div class="modal fade" id="sdltModal" tabindex="-1" aria-labelledby="sdltModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="sdltModalLabel">SDLT Calculator 2025</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- Wrap content in a unique container -->
          <div class="sdlt-modal">
            <style>
              /* Scoped styles: Only affect elements inside .sdlt-modal */
              .sdlt-modal {
                  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
                  max-width: 800px;
                  margin: 0 auto;
                  padding: 0 20px;
                  background-color: #f8f9fa;
                  color: #2c3e50;
              }
      
              .sdlt-modal .calculator {
                  background: white;
                  padding: 30px;
                  border-radius: 12px;
                  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
              }
      
              .sdlt-modal h2 {
                  text-align: center;
                  margin-bottom: 30px;
                  color: #1a365d;
                  font-size: 1.8em;
                  border-bottom: 2px solid #e2e8f0;
                  padding-bottom: 15px;
              }
      
              .sdlt-modal .input-group {
                  margin: 20px 0;
                  display: flex;
                  align-items: center;
                  gap: 15px;
              }
      
              .sdlt-modal label {
                  flex: 0 0 200px;
                  font-weight: 500;
                  color: #4a5568;
              }
      
              .sdlt-modal input[type="number"] {
                  flex: 1;
                  padding: 12px;
                  border: 1px solid #e2e8f0;
                  border-radius: 6px;
                  font-size: 16px;
                  transition: all 0.2s ease;
              }
      
              .sdlt-modal input[type="checkbox"] {
                  width: 20px;
                  height: 20px;
                  accent-color: #4299e1;
              }
      
              .sdlt-modal button {
                  background: #4299e1;
                  color: white;
                  border: none;
                  padding: 14px 28px;
                  border-radius: 6px;
                  font-size: 16px;
                  font-weight: 500;
                  cursor: pointer;
                  transition: all 0.2s ease;
                  width: 100%;
                  margin: 20px 0;
              }
      
              .sdlt-modal button:hover {
                  background: #3182ce;
                  transform: translateY(-1px);
              }
      
              .sdlt-modal .result {
                  margin-top: 20px;
                  padding: 25px;
                  background: #f8fafc;
                  border-radius: 8px;
              }
      
              .sdlt-modal #result {
                  font-size: 1.4em;
                  color: #1a365d;
                  font-weight: 600;
              }
      
              .sdlt-modal .toggle-container {
                  margin: 20px 0;
                  display: flex;
                  align-items: center;
                  gap: 10px;
              }
      
              .sdlt-modal #showDetails {
                  width: 18px;
                  height: 18px;
              }
      
              .sdlt-modal .breakdown {
                  display: none;
                  margin-top: 15px;
                  padding: 15px;
                  background: white;
                  border-radius: 6px;
                  border: 1px solid #e2e8f0;
              }
      
              .sdlt-modal .breakdown.visible {
                  display: block;
              }
      
              .sdlt-modal .breakdown-item {
                  padding: 8px 0;
                  border-bottom: 1px solid #eee;
              }
            </style>
      
            <div class="calculator">
              <h2>SDLT Calculator 2025</h2>
              
              <div class="input-group">
                  <label>Property Price</label>
                  <input type="number" id="price" step="1000" value="295000">
              </div>
      
              <div class="input-group">
                  <label>First-Time Buyer</label>
                  <input type="checkbox" id="firstTime">
              </div>
      
              <div class="input-group">
                  <label>Additional Property</label>
                  <input type="checkbox" id="additional">
              </div>
      
              <button onclick="calculate()">Calculate SDLT</button>
      
              <div class="result">
                  <h3>SDLT Payable: <span id="result">£0</span></h3>
                  
                  <div class="toggle-container">
                      <input type="checkbox" id="showDetails" onchange="toggleBreakdown()">
                      <label for="showDetails">Show detailed calculation</label>
                  </div>
                  
                  <div class="breakdown" id="breakdown"></div>
              </div>
            </div>
      
            <script>
              function formatCurrency(value) {
                  return '£' + Math.round(value).toLocaleString('en-GB');
              }
      
              function toggleBreakdown() {
                  const breakdown = document.getElementById('breakdown');
                  breakdown.classList.toggle('visible');
              }
      
              function calculate() {
                  // Get inputs
                  const price = Number(document.getElementById('price').value);
                  const isFirstTime = document.getElementById('firstTime').checked;
                  const isAdditional = document.getElementById('additional').checked;
      
                  // Base SDLT calculation
                  let sdlt = 0;
                  let breakdown = [];
      
                  if(isFirstTime && price <= 500000) {
                      // First-time buyer relief
                      const taxable = Math.max(price - 300000, 0);
                      sdlt = taxable * 0.05;
                      breakdown.push(
                          `<div class="breakdown-item">First £300,000: ${formatCurrency(0)}</div>` +
                          `<div class="breakdown-item">Remaining £${(taxable).toLocaleString()}: 5%</div>`
                      );
                  } else {
                      // Standard rates
                      const bands = [
                          { limit: 125000, rate: 0 },
                          { limit: 250000, rate: 0.02 },
                          { limit: 925000, rate: 0.05 },
                          { limit: 1500000, rate: 0.10 },
                          { limit: Infinity, rate: 0.12 }
                      ];
      
                      let remaining = price;
                      for(let i = 0; i < bands.length; i++) {
                          const prevLimit = i > 0 ? bands[i-1].limit : 0;
                          const bandAmount = Math.min(remaining, bands[i].limit - prevLimit);
                          const tax = bandAmount * bands[i].rate;
                          
                          if(tax > 0) {
                              breakdown.push(
                                  `<div class="breakdown-item">` +
                                  `£${(prevLimit+1).toLocaleString()} - £${bands[i].limit.toLocaleString()}: ` +
                                  `${formatCurrency(tax)} (${bands[i].rate*100}%)` +
                                  `</div>`
                              );
                          }
                          sdlt += tax;
                          remaining -= bandAmount;
                          if(remaining <= 0) break;
                      }
                  }
      
                  // Additional property surcharge
                  if(isAdditional) {
                      const surcharge = price * 0.05;
                      sdlt += surcharge;
                      breakdown.push(
                          `<div class="breakdown-item">` +
                          `Additional Property Surcharge: ${formatCurrency(surcharge)} (5%)` +
                          `</div>`
                      );
                  }
      
                  // Round up to nearest £5
                  sdlt = Math.ceil(sdlt / 5) * 5;
      
                  // Display results
                  document.getElementById('result').textContent = formatCurrency(sdlt);
                  document.getElementById('breakdown').innerHTML = breakdown.join('');
              }
            </script>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!--Modal for stamp -->
  <div class="modal fade" id="stampDutyModal" tabindex="-1" aria-labelledby="stampDutyModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="stampDutyModalLabel">Share Stamp Duty Calculator</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- Scoped container for the calculator -->
          <div class="stamp-duty-modal">
            <style>
              /* Scoped styles for the Stamp Duty Calculator */
              .stamp-duty-modal {
                  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
                  max-width: 800px;
                  margin: 0 auto;
                  padding: 0 20px;
                  background-color: #f8f9fa;
                  color: #2c3e50;
              }
    
              .stamp-duty-modal .calculator {
                  background: white;
                  padding: 30px;
                  border-radius: 12px;
                  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
              }
    
              .stamp-duty-modal h1 {
                  text-align: center;
                  margin-bottom: 30px;
                  color: #1a365d;
                  font-size: 1.8em;
                  border-bottom: 2px solid #e2e8f0;
                  padding-bottom: 15px;
              }
    
              .stamp-duty-modal .input-group {
                  margin: 20px 0;
                  display: flex;
                  flex-direction: column;
                  gap: 8px;
              }
    
              .stamp-duty-modal label {
                  font-weight: 500;
                  color: #4a5568;
              }
    
              .stamp-duty-modal input[type="number"] {
                  padding: 12px;
                  border: 1px solid #e2e8f0;
                  border-radius: 6px;
                  font-size: 16px;
                  transition: all 0.2s ease;
              }
    
              .stamp-duty-modal input[type="number"]:focus {
                  border-color: #4299e1;
                  box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);
                  outline: none;
              }
    
              .stamp-duty-modal .checkbox-group {
                  margin: 15px 0;
                  display: flex;
                  align-items: center;
                  gap: 10px;
              }
    
              .stamp-duty-modal input[type="checkbox"] {
                  width: 20px;
                  height: 20px;
                  accent-color: #4299e1;
              }
    
              .stamp-duty-modal button {
                  background: #4299e1;
                  color: white;
                  border: none;
                  padding: 14px 28px;
                  border-radius: 6px;
                  font-size: 16px;
                  font-weight: 500;
                  cursor: pointer;
                  transition: all 0.2s ease;
                  width: 100%;
                  margin: 20px 0;
              }
    
              .stamp-duty-modal button:hover {
                  background: #3182ce;
                  transform: translateY(-1px);
              }
    
              .stamp-duty-modal .result {
                  margin-top: 20px;
                  padding: 25px;
                  background: #f8fafc;
                  border-radius: 8px;
              }
    
              .stamp-duty-modal .highlight {
                  color: #1a365d;
                  font-size: 1.4em;
                  font-weight: 600;
                  margin: 15px 0;
              }
    
              .stamp-duty-modal .toggle-container {
                  margin: 20px 0;
                  display: flex;
                  align-items: center;
                  gap: 10px;
              }
    
              .stamp-duty-modal #showDetails {
                  width: 18px;
                  height: 18px;
              }
    
              .stamp-duty-modal .breakdown {
                  display: none;
                  margin-top: 15px;
                  padding: 15px;
                  background: white;
                  border-radius: 6px;
                  border: 1px solid #e2e8f0;
              }
    
              .stamp-duty-modal .breakdown.visible {
                  display: block;
              }
    
              .stamp-duty-modal .breakdown-item {
                  padding: 8px 0;
                  border-bottom: 1px solid #eee;
              }
            </style>
    
            <div class="calculator">
              <h1>Share Stamp Duty Calculator</h1>
              
              <div class="input-group">
                <label>Consideration Amount</label>
                <input type="number" id="consideration" step="100" value="0">
              </div>
    
              <h3>Exemptions:</h3>
              <div class="checkbox-group">
                <input type="checkbox" id="exemption1">
                <label for="exemption1">Gift transfer (no consideration)</label>
              </div>
              <div class="checkbox-group">
                <input type="checkbox" id="exemption2">
                <label for="exemption2">Non-sale transfer (trust/nominee)</label>
              </div>
              <div class="checkbox-group">
                <input type="checkbox" id="exemption3">
                <label for="exemption3">Marriage/Civil Partnership transfer</label>
              </div>
              <div class="checkbox-group">
                <input type="checkbox" id="exemption4">
                <label for="exemption4">Divorce/Dissolution transfer</label>
              </div>
              <div class="checkbox-group">
                <input type="checkbox" id="exemption5">
                <label for="exemption5">Company winding-up transfer</label>
              </div>
    
              <button onclick="calculateDuty()">Calculate Stamp Duty</button>
    
              <div class="result">
                <h3>Stamp Duty Payable:</h3>
                <div class="highlight" id="dutyAmount">£0</div>
                
                <div class="toggle-container">
                  <input type="checkbox" id="showDetails" onchange="toggleBreakdown()">
                  <label for="showDetails">Show detailed calculation</label>
                </div>
                
                <div class="breakdown" id="calculationBreakdown"></div>
              </div>
            </div>
    
            <script>
              function formatCurrency(value) {
                  return '£' + Math.round(value).toLocaleString('en-GB');
              }
    
              function toggleBreakdown() {
                  const breakdown = document.getElementById('calculationBreakdown');
                  breakdown.classList.toggle('visible');
              }
    
              function calculateDuty() {
                  // Get inputs
                  const consideration = parseFloat(document.getElementById('consideration').value) || 0;
                  const exemptions = [
                      document.getElementById('exemption1').checked,
                      document.getElementById('exemption2').checked,
                      document.getElementById('exemption3').checked,
                      document.getElementById('exemption4').checked,
                      document.getElementById('exemption5').checked
                  ];
    
                  // Check exemptions
                  const anyExemption = exemptions.some(ex => ex);
                  
                  let duty = 0;
                  let breakdown = [];
    
                  if(anyExemption) {
                      breakdown.push(`<div class="breakdown-item">Exemption applies: ${formatCurrency(0)} duty</div>`);
                  } else if(consideration <= 1000) {
                      breakdown.push(`<div class="breakdown-item">Consideration ≤ ${formatCurrency(1000)}: ${formatCurrency(0)} duty</div>`);
                  } else {
                      // Calculate Stamp Duty
                      const baseDuty = consideration * 0.005;
                      breakdown.push(`<div class="breakdown-item">Stamp Duty (0.5%): ${formatCurrency(baseDuty)}</div>`);
                      
                      // Round up to nearest £5
                      duty = Math.ceil(baseDuty / 5) * 5;
                      breakdown.push(`<div class="breakdown-item">Rounded up to nearest ${formatCurrency(5)}: ${formatCurrency(duty)}</div>`);
                  }
    
                  // Update display
                  document.getElementById('dutyAmount').textContent = formatCurrency(duty);
                  document.getElementById('calculationBreakdown').innerHTML = breakdown.join('');
              }
            </script>
          </div>
        </div>
      </div>
    </div>
  </div>
   <!--Reviews -->
   <div class="container-fluid gtco-testimonials scroll-fade">
    <div class="container">
        <h2>What our customers say about us.</h2>
        <div class="owl-carousel owl-carousel1 owl-theme">
            <div>
                <div class="card text-center">
                    <!-- Removed the customer image -->
                    <div class="card-body">
                        <h5>Lisa Gally <br/><span> Project Manager </span></h5>
                        <p class="card-text">“ Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat ”</p>
                    </div>
                </div>
            </div>
            <div>
                <div class="card text-center">
                    <!-- Removed the customer image -->
                    <div class="card-body">
                        <h5>Missy Limana<br/><span> Project Manager </span></h5>
                        <p class="card-text">“ Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat ”</p>
                    </div>
                </div>
            </div>
            <div>
                <div class="card text-center">
                    <!-- Removed the customer image -->
                    <div class="card-body">
                        <h5>Aana Brown<br/><span> Project Manager </span></h5>
                        <p class="card-text">“ Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat ”</p>
                    </div>
                </div>
            </div>
            <div>
                <div class="card text-center">
                    <!-- Removed the customer image -->
                    <div class="card-body">
                        <h5>Aana Brown<br/><span> Project Manager </span></h5>
                        <p class="card-text">“ Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat ”</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


  <style>
    /* Your footer styling */
    footer#gtco-footer {
      background: #f8f9fa;
      padding: 40px 0;
    }
    footer#gtco-footer h4 {
      margin-bottom: 20px;
      color: #1a365d;
    }
    footer#gtco-footer input.form-control,
    footer#gtco-footer textarea.form-control {
      margin-bottom: 15px;
    }
    footer#gtco-footer .submit-button {
      display: inline-block;
      background: #4299e1;
      color: #fff;
      padding: 10px 20px;
      text-decoration: none;
      border-radius: 4px;
    }
    footer#gtco-footer .submit-button:hover {
      background: #3182ce;
    }
  </style>
</head>
<body>
  <!-- Other page content goes here -->

  <footer class="container-fluid" id="gtco-footer">
    <div class="container">
      <div class="row">
        <div class="col-lg-6" id="contact">
          <h4>Contact Us</h4>
          <!-- The form posts data to sendmail.php -->
          <form action="sendmail.php" method="POST">
            <input type="text" class="form-control" name="fullName" placeholder="Full Name" required>
            <input type="email" class="form-control" name="email" placeholder="Email Address" required>
            <textarea class="form-control" name="message" placeholder="Message" required></textarea>
            <a href="#" class="submit-button">Submit <i class="fa fa-angle-right" aria-hidden="true"></i></a>
        </div>
        <div class="col-lg-6">
          <div class="row">
            <div class="col-6">
              <h4>Company</h4>
              <ul class="nav flex-column company-nav">
                <li class="nav-item"><a class="nav-link" href="#home">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="#about">Services</a></li>
                <li class="nav-item"><a class="nav-link" href="#services">About</a></li>
              </ul>

              <h4 class="mt-5">Follow Us</h4>
              <ul class="nav follow-us-nav">
                <li class="nav-item"><a class="nav-link pl-0" href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                <li class="nav-item"><a class="nav-link" href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                <li class="nav-item"><a class="nav-link" href="#"><i class="fa fa-google" aria-hidden="true"></i></a></li>
                <li class="nav-item"><a class="nav-link" href="#"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li>
              </ul>
            </div>
            <div class="col-6">
              <h4>Services</h4>
              <ul class="nav flex-column services-nav">
                <li class="nav-item">Capital Gains Tax</li>
                <li class="nav-item">Book Keeping</li>
                <li class="nav-item">Accounts Preparation</li>
                <li class="nav-item">Self Assessment Tax Returns</li>
                <li class="nav-item">Corporation Tax Returns</li>
                <li class="nav-item">Payroll</li>
                <li class="nav-item">VAT</li>
                <li class="nav-item">Tax Advisory</li>
              </ul>
            </div>
            <div class="col-12">
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Optionally include Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="js/jquery-3.3.1.slim.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<!-- owl carousel js-->
<script src="owl-carousel/owl.carousel.min.js"></script>
<script src="js/main.js"></script>
</body>
</html>
<script>
    document.addEventListener('DOMContentLoaded', () => {
      const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            // Unobserve so the animation only happens once
            observer.unobserve(entry.target);
          }
        });
      }, {
        threshold: 0.1  // Adjust the threshold as needed
      });

      document.querySelectorAll('.scroll-fade').forEach(element => {
        observer.observe(element);
      });
    });
  </script>
  <script>
    function myFunction(x) {
  x.classList.toggle("change"); // For your burger icon animation
  document.getElementById("gtco-main-nav").classList.toggle("open");
}
  </script>